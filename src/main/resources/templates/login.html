<!DOCTYPE html>
<body>
<head>
    <meta charset="UTF-8">
    <title>My WebSocket Test</title>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
          integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css"
          integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ" crossorigin="anonymous">

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
            integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

Welcome
<br />
<table>
    <tr>

        <tb>
            <th> 用户名
                <input id="userName" type="text" name="用户名" />
            </th>
        </tb>
        <tb>
            <th> 密码
                <input id="passWord" type="text" name="密码" />
            </th>
        </tb>
    </tr>
</table>
<!--<button class="btn btn-primary" style="background-color:#666666; display:none;" onclick="login()">login</button>-->
<button class="btn btn-primary" onclick="login()">login</button>
<script type="text/javascript">
        function login() {
            var username = document.getElementById("userName").value;
            var password = document.getElementById("passWord").value;
            $.ajax({
                type: "POST",
                dataType: "json",
                url: '/auth/index',
                contentType: "application/json",
                data:JSON.stringify({
                    "userName": username,
                    "passWord": password
                }),
                success: function (result) {
                    console.log("data is :" + result)
                    if (result.code == 0) {
                        alert("登陆成功");
                        window.location.href = "/auth/webSocket?userName="+username;
                    }else {
                        alert(result.data)
                    }
                }
            });
        }

</script>
</body>
</html>